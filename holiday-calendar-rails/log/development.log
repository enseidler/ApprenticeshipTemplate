  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (267.0ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (224.7ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateHolidayRuleDayOfWeeks (20170522174547)
  [1m[35m (243.7ms)[0m  [1m[35mCREATE TABLE `holiday_rule_day_of_weeks` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `dayOfWeekHoliday` int, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170522174547')[0m
  [1m[35m (61.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2017-05-22 17:47:17', '2017-05-22 17:47:17')[0m
  [1m[35m (32.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rule_day_of_weeks`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (417.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_dev`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (32.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_test`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (222.1ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (273.5ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateHolidayRuleDayOfWeeks (20170522174547)
  [1m[35m (247.2ms)[0m  [1m[35mCREATE TABLE `holiday_rule_day_of_weeks` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `day_of_week_holiday` int, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170522174547')[0m
  [1m[35m (28.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2017-05-22 17:50:00', '2017-05-22 17:50:00')[0m
  [1m[35m (29.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rule_day_of_weeks`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateHolidayRuleDayOfMonths (20170522175341)
  [1m[35m (241.9ms)[0m  [1m[35mCREATE TABLE `holiday_rule_day_of_months` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `month` int, `day_of_month` int, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170522175341')[0m
  [1m[35m (61.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateHolidayRuleDates (20170522175556)
  [1m[35m (241.7ms)[0m  [1m[35mCREATE TABLE `holiday_rule_dates` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `date_holiday` date, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170522175556')[0m
  [1m[35m (31.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rule_dates`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rule_day_of_months`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rule_day_of_weeks`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateHolidayRuleWithIntervals (20170522181315)
  [1m[35m (225.3ms)[0m  [1m[35mCREATE TABLE `holiday_rule_with_intervals` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `holiday_rule_id` bigint, `begins` date, `ends` date, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL,  INDEX `index_holiday_rule_with_intervals_on_holiday_rule_id`  (`holiday_rule_id`), CONSTRAINT `fk_rails_faf947ae1e`
FOREIGN KEY (`holiday_rule_id`)
  REFERENCES `holiday_rules` (`id`)
) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (673.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_dev`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (31.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_test`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_dev`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (687.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_test`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (226.4ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (230.9ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateHolidayRuleDayOfWeeks (20170522174547)
  [1m[35m (236.0ms)[0m  [1m[35mCREATE TABLE `holiday_rule_day_of_weeks` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `day_of_week_holiday` int, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170522174547')[0m
  [1m[35m (36.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateHolidayRuleDayOfMonths (20170522175341)
  [1m[35m (233.3ms)[0m  [1m[35mCREATE TABLE `holiday_rule_day_of_months` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `month` int, `day_of_month` int, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170522175341')[0m
  [1m[35m (64.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateHolidayRuleDates (20170522175556)
  [1m[35m (266.8ms)[0m  [1m[35mCREATE TABLE `holiday_rule_dates` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `date_holiday` date, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170522175556')[0m
  [1m[35m (31.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateHolidayRuleWithIntervals (20170522181315)
  [1m[35m (249.3ms)[0m  [1m[35mCREATE TABLE `holiday_rule_with_intervals` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `holiday_rule_id` bigint, `begins` date, `ends` date, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL,  INDEX `index_holiday_rule_with_intervals_on_holiday_rule_id`  (`holiday_rule_id`), CONSTRAINT `fk_rails_faf947ae1e`
FOREIGN KEY (`holiday_rule_id`)
  REFERENCES `holiday_rules` (`id`)
) ENGINE=InnoDB[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateHolidayRuleWithIntervals (20170522181315)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateHolidayRuleWithIntervals (20170522181315)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateHolidayRuleWithIntervals (20170522183551)
  [1m[35m (242.0ms)[0m  [1m[35mCREATE TABLE `holiday_rule_with_intervals` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `holiday_rule_id` bigint, `start` date, `end` date, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL,  INDEX `index_holiday_rule_with_intervals_on_holiday_rule_id`  (`holiday_rule_id`), CONSTRAINT `fk_rails_faf947ae1e`
FOREIGN KEY (`holiday_rule_id`)
  REFERENCES `holiday_rules` (`id`)
) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2017-05-22 18:38:00', '2017-05-22 18:38:00')[0m
  [1m[35m (74.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rule_dates`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rule_day_of_months`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rule_day_of_weeks`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rule_dates`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rule_day_of_months`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rule_day_of_weeks`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (713.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_dev`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (39.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_test`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (238.4ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (215.0ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateHolidayRuleDayOfWeeks (20170522174547)
  [1m[35m (343.8ms)[0m  [1m[35mCREATE TABLE `holiday_rule_day_of_weeks` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `day_of_week_holiday` int, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170522174547')[0m
  [1m[35m (220.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateHolidayRuleDayOfMonths (20170522175341)
  [1m[35m (233.4ms)[0m  [1m[35mCREATE TABLE `holiday_rule_day_of_months` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `month` int, `day_of_month` int, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170522175341')[0m
  [1m[35m (64.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateHolidayRuleDates (20170522175556)
  [1m[35m (266.8ms)[0m  [1m[35mCREATE TABLE `holiday_rule_dates` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `date_holiday` date, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170522175556')[0m
  [1m[35m (31.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateHolidayRuleWithIntervals (20170522183901)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateHolidayRuleWithIntervals (20170522183901)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateHolidayRuleWithIntervals (20170522183901)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2017-05-22 18:50:35', '2017-05-22 18:50:35')[0m
  [1m[35m (40.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (705.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_dev`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (270.2ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (222.9ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateHolidayRuleDayOfWeeks (20170522174547)
  [1m[35m (232.9ms)[0m  [1m[35mCREATE TABLE `holiday_rule_day_of_weeks` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `day_of_week_holiday` int, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170522174547')[0m
  [1m[35m (27.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateHolidayRuleDayOfMonths (20170522175341)
  [1m[35m (283.2ms)[0m  [1m[35mCREATE TABLE `holiday_rule_day_of_months` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `month` int, `day_of_month` int, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170522175341')[0m
  [1m[35m (64.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateHolidayRuleDates (20170522175556)
  [1m[35m (266.7ms)[0m  [1m[35mCREATE TABLE `holiday_rule_dates` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `date_holiday` date, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170522175556')[0m
  [1m[35m (31.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateHolidayRuleWithIntervals (20170522183901)
  [1m[35m (273.7ms)[0m  [1m[35mCREATE TABLE `holiday_rule_with_intervals` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `holiday_rule_type` varchar(255), `holiday_rule_id` bigint, `start` date, `end` date, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL,  INDEX `holiday_rule_id`  (`holiday_rule_type`, `holiday_rule_id`)) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170522183901')[0m
  [1m[35m (31.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2017-05-22 18:51:03', '2017-05-22 18:51:03')[0m
  [1m[35m (36.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rule_dates`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rule_day_of_months`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rule_day_of_weeks`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rule_with_intervals`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'holiday_rule_with_intervals'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (827.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_dev`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (31.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_test`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (229.7ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (265.3ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateHolidayRules (20170522191947)
  [1m[35m (206.7ms)[0m  [1m[35mCREATE TABLE `holiday_rules` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170522191947')[0m
  [1m[35m (27.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2017-05-22 19:21:49', '2017-05-22 19:21:49')[0m
  [1m[35m (28.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rules`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (416.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_dev`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (30.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_test`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (318.5ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (289.5ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2017-05-23 11:39:33', '2017-05-23 11:39:33')[0m
  [1m[35m (30.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateHolidayRules (20170523120522)
  [1m[35m (232.8ms)[0m  [1m[35mCREATE TABLE `holiday_rules` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `type` varchar(255) NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523120522')[0m
  [1m[35m (28.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDayOfWeekHolidayToHolidayRule (20170523122234)
  [1m[35m (400.7ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `day_of_week_holiday` int[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523122234')[0m
  [1m[35m (64.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rules`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'holiday_rules'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddMonthDayToHolidayRule (20170523125539)
  [1m[35m (399.5ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `month` int[0m
  [1m[35m (401.5ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `day_of_month_holiday` int[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523125539')[0m
  [1m[35m (37.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDateHolidayToHolidayRule (20170523130039)
  [1m[35m (393.1ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `date_holiday` date[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523130039')[0m
  [1m[35m (56.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rules`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'holiday_rules'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddIntervalToHolidayRule (20170523131134)
  [1m[35m (406.7ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `begins` date[0m
  [1m[35m (343.0ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `ends` date[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523131134')[0m
  [1m[35m (30.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddHolidayRuleToHolidayRule (20170523131248)
  [1m[35m (401.4ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `holiday_rule_id` int[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523131248')[0m
  [1m[35m (65.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rules`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'holiday_rules'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mHolidayRuleDayOfWeek Load (0.5ms)[0m  [1m[34mSELECT  `holiday_rules`.* FROM `holiday_rules` WHERE `holiday_rules`.`type` IN ('HolidayRuleDayOfWeek') LIMIT 11[0m
  [1m[36mHolidayRule Load (0.5ms)[0m  [1m[34mSELECT  `holiday_rules`.* FROM `holiday_rules` LIMIT 11[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `holiday_rules` (`type`, `created_at`, `updated_at`, `day_of_week_holiday`) VALUES ('HolidayRuleDayOfWeek', '2017-05-23 13:18:17', '2017-05-23 13:18:17', 1)[0m
  [1m[35m (34.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `holiday_rules` (`type`, `created_at`, `updated_at`, `month`, `day_of_month_holiday`) VALUES ('HolidayRuleDayOfMonth', '2017-05-23 13:19:20', '2017-05-23 13:19:20', 5, 1)[0m
  [1m[35m (52.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddHolidayRuleToHolidayRule (20170523132753)
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `holiday_rule_id` bigint[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (386.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_dev`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (31.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_test`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (271.9ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (206.5ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateHolidayRules (20170523120522)
  [1m[35m (227.0ms)[0m  [1m[35mCREATE TABLE `holiday_rules` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `type` varchar(255) NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523120522')[0m
  [1m[35m (28.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDayOfWeekHolidayToHolidayRule (20170523122234)
  [1m[35m (1059.3ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `day_of_week_holiday` int[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523122234')[0m
  [1m[35m (64.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddMonthDayToHolidayRule (20170523125539)
  [1m[35m (435.9ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `month` int[0m
  [1m[35m (318.2ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `day_of_month_holiday` int[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523125539')[0m
  [1m[35m (31.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDateHolidayToHolidayRule (20170523130039)
  [1m[35m (426.6ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `date_holiday` date[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523130039')[0m
  [1m[35m (31.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIntervalToHolidayRule (20170523131134)
  [1m[35m (402.2ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `begins` date[0m
  [1m[35m (384.8ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `ends` date[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523131134')[0m
  [1m[35m (31.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddHolidayRuleToHolidayRule (20170523132753)
  [1m[35m (351.4ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `holiday_rule_id` bigint[0m
  [1m[35m (208.5ms)[0m  [1m[35mCREATE  INDEX `index_holiday_rules_on_holiday_rule_id`  ON `holiday_rules` (`holiday_rule_id`) [0m
  [1m[35m (602.8ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD CONSTRAINT `fk_rails_14f4e958ef`
FOREIGN KEY (`holiday_rule_id`)
  REFERENCES `holiday_rules` (`id`)
[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523132753')[0m
  [1m[35m (31.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2017-05-23 13:29:09', '2017-05-23 13:29:09')[0m
  [1m[35m (31.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rules`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'holiday_rules'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `holiday_rules` (`type`, `created_at`, `updated_at`, `day_of_week_holiday`) VALUES ('HolidayRuleDayOfWeek', '2017-05-23 13:30:04', '2017-05-23 13:30:04', 3)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `holiday_rules` (`type`, `created_at`, `updated_at`, `begins`, `ends`, `holiday_rule_id`) VALUES ('HolidayRuleWithInterval', '2017-05-23 13:30:04', '2017-05-23 13:30:04', '2017-05-02', '2017-05-10', 1)[0m
  [1m[35m (68.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mHolidayRule Load (0.5ms)[0m  [1m[34mSELECT  `holiday_rules`.* FROM `holiday_rules` LIMIT 11[0m
  [1m[36mHolidayRuleWithInterval Load (0.7ms)[0m  [1m[34mSELECT  `holiday_rules`.* FROM `holiday_rules` WHERE `holiday_rules`.`type` IN ('HolidayRuleWithInterval') LIMIT 11[0m
  [1m[36mHolidayRule Load (0.5ms)[0m  [1m[34mSELECT  `holiday_rules`.* FROM `holiday_rules` WHERE `holiday_rules`.`id` = 1 LIMIT 1[0m
  [1m[36mHolidayRule Load (0.5ms)[0m  [1m[34mSELECT  `holiday_rules`.* FROM `holiday_rules` WHERE `holiday_rules`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (394.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_dev`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (31.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_test`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (236.8ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (273.4ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateHolidayRules (20170523120522)
  [1m[35m (235.2ms)[0m  [1m[35mCREATE TABLE `holiday_rules` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `type` varchar(255) NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523120522')[0m
  [1m[35m (36.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDayOfWeekHolidayToHolidayRule (20170523122234)
  [1m[35m (451.9ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `day_of_week_holiday` int[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523122234')[0m
  [1m[35m (56.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddMonthDayToHolidayRule (20170523125539)
  [1m[35m (768.9ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `month` int[0m
  [1m[35m (401.5ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `day_of_month_holiday` int[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523125539')[0m
  [1m[35m (31.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDateHolidayToHolidayRule (20170523130039)
  [1m[35m (369.3ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `date_holiday` date[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523130039')[0m
  [1m[35m (30.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPeriodToHolidayRule (20170523131134)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddPeriodToHolidayRule (20170523131134)
  [1m[35m (409.7ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `begins` date[0m
  [1m[35m (401.4ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `ends` date[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523131134')[0m
  [1m[35m (38.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddHolidayRuleToHolidayRule (20170523132753)
  [1m[35m (426.3ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `holiday_rule_id` bigint[0m
  [1m[35m (234.3ms)[0m  [1m[35mCREATE  INDEX `index_holiday_rules_on_holiday_rule_id`  ON `holiday_rules` (`holiday_rule_id`) [0m
  [1m[35m (601.6ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD CONSTRAINT `fk_rails_14f4e958ef`
FOREIGN KEY (`holiday_rule_id`)
  REFERENCES `holiday_rules` (`id`)
[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523132753')[0m
  [1m[35m (65.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2017-05-23 15:18:27', '2017-05-23 15:18:27')[0m
  [1m[35m (33.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rules`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'holiday_rules'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `holiday_rules` (`type`, `created_at`, `updated_at`, `day_of_week_holiday`) VALUES ('HolidayRuleDayOfWeek', '2017-05-23 15:19:46', '2017-05-23 15:19:46', 3)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `holiday_rules` (`type`, `created_at`, `updated_at`, `begins`, `ends`, `holiday_rule_id`) VALUES ('HolidayRuleWithPeriod', '2017-05-23 15:19:46', '2017-05-23 15:19:46', '2017-05-02', '2017-05-10', 1)[0m
  [1m[35m (76.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mHolidayRuleWithPeriod Load (0.5ms)[0m  [1m[34mSELECT  `holiday_rules`.* FROM `holiday_rules` WHERE `holiday_rules`.`type` IN ('HolidayRuleWithPeriod') AND `holiday_rules`.`id` = 1 LIMIT 1[0m
  [1m[36mHolidayRuleWithPeriod Load (0.6ms)[0m  [1m[34mSELECT  `holiday_rules`.* FROM `holiday_rules` WHERE `holiday_rules`.`type` IN ('HolidayRuleWithPeriod') AND `holiday_rules`.`id` = 1 LIMIT 1[0m
  [1m[36mHolidayRuleWithPeriod Load (0.5ms)[0m  [1m[34mSELECT  `holiday_rules`.* FROM `holiday_rules` WHERE `holiday_rules`.`type` IN ('HolidayRuleWithPeriod') AND `holiday_rules`.`id` = 2 LIMIT 1[0m
  [1m[36mHolidayRuleWithPeriod Load (0.5ms)[0m  [1m[34mSELECT  `holiday_rules`.* FROM `holiday_rules` WHERE `holiday_rules`.`type` IN ('HolidayRuleWithPeriod') AND `holiday_rules`.`id` = 0 LIMIT 1[0m
  [1m[36mHolidayRuleWithPeriod Load (0.5ms)[0m  [1m[34mSELECT  `holiday_rules`.* FROM `holiday_rules` WHERE `holiday_rules`.`type` IN ('HolidayRuleWithPeriod') AND `holiday_rules`.`id` = 3 LIMIT 1[0m
  [1m[36mHolidayRuleWithPeriod Load (0.5ms)[0m  [1m[34mSELECT  `holiday_rules`.* FROM `holiday_rules` WHERE `holiday_rules`.`type` IN ('HolidayRuleWithPeriod') AND `holiday_rules`.`id` = 2 LIMIT 1[0m
  [1m[36mHolidayRuleWithPeriod Load (1.8ms)[0m  [1m[34mSELECT  `holiday_rules`.* FROM `holiday_rules` WHERE `holiday_rules`.`type` IN ('HolidayRuleWithPeriod') AND `holiday_rules`.`id` = 2 LIMIT 1[0m
  [1m[36mHolidayRuleWithPeriod Load (0.4ms)[0m  [1m[34mSELECT  `holiday_rules`.* FROM `holiday_rules` WHERE `holiday_rules`.`type` IN ('HolidayRuleWithPeriod') AND `holiday_rules`.`id` = 2 LIMIT 1[0m
  [1m[36mHolidayRuleWithPeriod Load (0.5ms)[0m  [1m[34mSELECT  `holiday_rules`.* FROM `holiday_rules` WHERE `holiday_rules`.`type` IN ('HolidayRuleWithPeriod') AND `holiday_rules`.`id` = 2 LIMIT 1[0m
  [1m[36mHolidayRule Load (0.5ms)[0m  [1m[34mSELECT  `holiday_rules`.* FROM `holiday_rules` WHERE `holiday_rules`.`id` = 1 LIMIT 1[0m
  [1m[36mHolidayRule Load (0.5ms)[0m  [1m[34mSELECT  `holiday_rules`.* FROM `holiday_rules` WHERE `holiday_rules`.`id` = 1 LIMIT 1[0m
  [1m[36mHolidayRuleWithPeriod Load (0.5ms)[0m  [1m[34mSELECT  `holiday_rules`.* FROM `holiday_rules` WHERE `holiday_rules`.`type` IN ('HolidayRuleWithPeriod') AND `holiday_rules`.`id` = 2 LIMIT 1[0m
  [1m[36mHolidayRule Load (0.4ms)[0m  [1m[34mSELECT  `holiday_rules`.* FROM `holiday_rules` WHERE `holiday_rules`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (443.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_dev`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (39.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_test`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (232.5ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (280.9ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateHolidayRules (20170523120522)
  [1m[35m (259.6ms)[0m  [1m[35mCREATE TABLE `holiday_rules` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `type` varchar(255) NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523120522')[0m
  [1m[35m (36.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDayOfWeekHolidayToHolidayRule (20170523122234)
  [1m[35m (392.3ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `day_of_week_holiday` int[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523122234')[0m
  [1m[35m (73.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddMonthDayToHolidayRule (20170523125539)
  [1m[35m (393.4ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `month` int[0m
  [1m[35m (426.4ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `day_of_month_holiday` int[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523125539')[0m
  [1m[35m (31.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDateHolidayToHolidayRule (20170523130039)
  [1m[35m (452.2ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `date_holiday` date[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523130039')[0m
  [1m[35m (31.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPeriodToHolidayRule (20170523131134)
  [1m[35m (392.9ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `begins` date[0m
  [1m[35m (418.3ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `ends` date[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523131134')[0m
  [1m[35m (31.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddHolidayRuleToHolidayRule (20170523132753)
  [1m[35m (409.3ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `holiday_rule_id` bigint[0m
  [1m[35m (199.4ms)[0m  [1m[35mCREATE  INDEX `index_holiday_rules_on_holiday_rule_id`  ON `holiday_rules` (`holiday_rule_id`) [0m
  [1m[35m (601.9ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD CONSTRAINT `fk_rails_14f4e958ef`
FOREIGN KEY (`holiday_rule_id`)
  REFERENCES `holiday_rules` (`id`)
[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523132753')[0m
  [1m[35m (39.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateHolidayCalendars (20170523165310)
  [1m[35m (258.6ms)[0m  [1m[35mCREATE TABLE `holiday_calendars` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `holiday_rules` int, `holiday_rule_id` int, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523165310')[0m
  [1m[35m (31.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2017-05-23 16:55:12', '2017-05-23 16:55:12')[0m
  [1m[35m (28.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_calendars`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rules`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'holiday_rules'[0m
Started GET "/calendarios" for 127.0.0.1 at 2017-05-23 15:41:02 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HolidayCalendarController#calendars as HTML
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started GET "/calendarios" for 127.0.0.1 at 2017-05-23 15:42:38 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HolidayCalendarController#calendars as HTML
  [1m[36mHolidayCalendar Load (0.4ms)[0m  [1m[34mSELECT `holiday_calendars`.* FROM `holiday_calendars`[0m
Completed 200 OK in 16ms (Views: 2.4ms | ActiveRecord: 0.8ms)


  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `holiday_calendars` (`created_at`, `updated_at`) VALUES ('2017-05-23 18:45:17', '2017-05-23 18:45:17')[0m
  [1m[35m (37.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `holiday_calendars` (`created_at`, `updated_at`) VALUES ('2017-05-23 18:46:15', '2017-05-23 18:46:15')[0m
  [1m[35m (75.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `holiday_rules` (`type`, `created_at`, `updated_at`, `day_of_week_holiday`) VALUES ('HolidayRuleDayOfWeek', '2017-05-23 18:46:44', '2017-05-23 18:46:44', 3)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `holiday_rules` (`type`, `created_at`, `updated_at`, `begins`, `ends`, `holiday_rule_id`) VALUES ('HolidayRuleWithPeriod', '2017-05-23 18:46:44', '2017-05-23 18:46:44', '2017-05-02', '2017-05-10', 1)[0m
  [1m[35m (75.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_calendars`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rules`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'holiday_rules'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (514.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_dev`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (676.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_test`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (258.1ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (264.4ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateHolidayRules (20170523120522)
  [1m[35m (258.8ms)[0m  [1m[35mCREATE TABLE `holiday_rules` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `type` varchar(255) NOT NULL, `holiday_calendar_id` bigint, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL,  INDEX `index_holiday_rules_on_holiday_calendar_id`  (`holiday_calendar_id`)) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523120522')[0m
  [1m[35m (29.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDayOfWeekHolidayToHolidayRule (20170523122234)
  [1m[35m (459.5ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `day_of_week_holiday` int[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523122234')[0m
  [1m[35m (65.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddMonthDayToHolidayRule (20170523125539)
  [1m[35m (511.9ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `month` int[0m
  [1m[35m (385.1ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `day_of_month_holiday` int[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523125539')[0m
  [1m[35m (31.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDateHolidayToHolidayRule (20170523130039)
  [1m[35m (493.7ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `date_holiday` date[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523130039')[0m
  [1m[35m (31.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPeriodToHolidayRule (20170523131134)
  [1m[35m (461.0ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `begins` date[0m
  [1m[35m (385.1ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `ends` date[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523131134')[0m
  [1m[35m (31.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddHolidayRuleToHolidayRule (20170523132753)
  [1m[35m (501.7ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `holiday_rule_id` bigint[0m
  [1m[35m (216.3ms)[0m  [1m[35mCREATE  INDEX `index_holiday_rules_on_holiday_rule_id`  ON `holiday_rules` (`holiday_rule_id`) [0m
  [1m[35m (677.4ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD CONSTRAINT `fk_rails_14f4e958ef`
FOREIGN KEY (`holiday_rule_id`)
  REFERENCES `holiday_rules` (`id`)
[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523132753')[0m
  [1m[35m (39.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2017-05-23 19:01:33', '2017-05-23 19:01:33')[0m
  [1m[35m (23.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rules`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'holiday_rules'[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `holiday_rules` (`type`, `created_at`, `updated_at`, `day_of_week_holiday`) VALUES ('HolidayRuleDayOfWeek', '2017-05-23 19:01:58', '2017-05-23 19:01:58', 3)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `holiday_rules` (`type`, `created_at`, `updated_at`, `begins`, `ends`, `holiday_rule_id`) VALUES ('HolidayRuleWithPeriod', '2017-05-23 19:01:58', '2017-05-23 19:01:58', '2017-05-02', '2017-05-10', 1)[0m
  [1m[35m (64.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (432.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_dev`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (31.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_test`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (254.3ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (239.6ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateHolidayRules (20170523120522)
  [1m[35m (274.5ms)[0m  [1m[35mCREATE TABLE `holiday_rules` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `type` varchar(255) NOT NULL, `holiday_calendars_id` bigint, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL,  INDEX `index_holiday_rules_on_holiday_calendars_id`  (`holiday_calendars_id`)) ENGINE=InnoDB[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523120522')[0m
  [1m[35m (40.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDayOfWeekHolidayToHolidayRule (20170523122234)
  [1m[35m (490.0ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `day_of_week_holiday` int[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523122234')[0m
  [1m[35m (64.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddMonthDayToHolidayRule (20170523125539)
  [1m[35m (410.3ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `month` int[0m
  [1m[35m (519.6ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `day_of_month_holiday` int[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523125539')[0m
  [1m[35m (31.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDateHolidayToHolidayRule (20170523130039)
  [1m[35m (434.9ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `date_holiday` date[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523130039')[0m
  [1m[35m (39.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPeriodToHolidayRule (20170523131134)
  [1m[35m (535.6ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `begins` date[0m
  [1m[35m (436.0ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `ends` date[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523131134')[0m
  [1m[35m (76.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddHolidayRuleToHolidayRule (20170523132753)
  [1m[35m (448.6ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `holiday_rule_id` bigint[0m
  [1m[35m (199.4ms)[0m  [1m[35mCREATE  INDEX `index_holiday_rules_on_holiday_rule_id`  ON `holiday_rules` (`holiday_rule_id`) [0m
  [1m[35m (534.8ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD CONSTRAINT `fk_rails_14f4e958ef`
FOREIGN KEY (`holiday_rule_id`)
  REFERENCES `holiday_rules` (`id`)
[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523132753')[0m
  [1m[35m (31.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2017-05-23 19:03:17', '2017-05-23 19:03:17')[0m
  [1m[35m (32.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rules`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'holiday_rules'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (436.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_dev`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (31.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_test`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (295.7ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (281.2ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateHolidayRules (20170523120522)
  [1m[35m (266.9ms)[0m  [1m[35mCREATE TABLE `holiday_rules` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `type` varchar(255) NOT NULL, `holiday_calendar_id` bigint, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL,  INDEX `index_holiday_rules_on_holiday_calendar_id`  (`holiday_calendar_id`)) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523120522')[0m
  [1m[35m (36.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDayOfWeekHolidayToHolidayRule (20170523122234)
  [1m[35m (509.5ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `day_of_week_holiday` int[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523122234')[0m
  [1m[35m (57.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddMonthDayToHolidayRule (20170523125539)
  [1m[35m (460.2ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `month` int[0m
  [1m[35m (493.6ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `day_of_month_holiday` int[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523125539')[0m
  [1m[35m (31.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDateHolidayToHolidayRule (20170523130039)
  [1m[35m (426.6ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `date_holiday` date[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523130039')[0m
  [1m[35m (31.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPeriodToHolidayRule (20170523131134)
  [1m[35m (502.7ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `begins` date[0m
  [1m[35m (459.9ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `ends` date[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523131134')[0m
  [1m[35m (31.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddHolidayRuleToHolidayRule (20170523132753)
  [1m[35m (493.4ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD `holiday_rule_id` bigint[0m
  [1m[35m (166.2ms)[0m  [1m[35mCREATE  INDEX `index_holiday_rules_on_holiday_rule_id`  ON `holiday_rules` (`holiday_rule_id`) [0m
  [1m[35m (702.9ms)[0m  [1m[35mALTER TABLE `holiday_rules` ADD CONSTRAINT `fk_rails_14f4e958ef`
FOREIGN KEY (`holiday_rule_id`)
  REFERENCES `holiday_rules` (`id`)
[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523132753')[0m
  [1m[35m (31.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateHolidayCalendar (20170523190806)
  [1m[35m (233.4ms)[0m  [1m[35mCREATE TABLE `holiday_calendars` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255)) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523190806')[0m
  [1m[35m (73.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2017-05-23 19:08:47', '2017-05-23 19:08:47')[0m
  [1m[35m (31.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_calendars`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'holiday_calendars'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rules`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'holiday_rules'[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `holiday_calendars` VALUES ()[0m
  [1m[35m (27.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `holiday_rules` (`type`, `created_at`, `updated_at`, `day_of_week_holiday`) VALUES ('HolidayRuleDayOfWeek', '2017-05-23 19:09:09', '2017-05-23 19:09:09', 3)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `holiday_rules` (`type`, `created_at`, `updated_at`, `begins`, `ends`, `holiday_rule_id`) VALUES ('HolidayRuleWithPeriod', '2017-05-23 19:09:09', '2017-05-23 19:09:09', '2017-05-02', '2017-05-10', 1)[0m
  [1m[35m (75.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE `holiday_rules` SET `holiday_calendar_id` = 1, `updated_at` = '2017-05-23 19:10:08' WHERE `holiday_rules`.`id` = 2[0m
  [1m[35m (30.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Started GET "/calendarios" for 127.0.0.1 at 2017-05-23 16:10:26 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HolidayCalendarController#calendars as HTML
  [1m[36mHolidayCalendar Load (0.4ms)[0m  [1m[34mSELECT `holiday_calendars`.* FROM `holiday_calendars`[0m
Completed 200 OK in 12ms (Views: 7.3ms | ActiveRecord: 1.0ms)


  [1m[36mHolidayCalendar Load (0.5ms)[0m  [1m[34mSELECT  `holiday_calendars`.* FROM `holiday_calendars` LIMIT 11[0m
  [1m[36mHolidayCalendar Load (0.6ms)[0m  [1m[34mSELECT `holiday_calendars`.* FROM `holiday_calendars`[0m
Started GET "/calendarios" for 127.0.0.1 at 2017-05-24 08:35:05 -0300
Processing by HolidayCalendarController#calendars as HTML
  [1m[36mHolidayCalendar Load (0.4ms)[0m  [1m[34mSELECT `holiday_calendars`.* FROM `holiday_calendars`[0m
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.4ms)


  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (576.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_dev`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (552.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_test`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (283.0ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (255.6ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateHolidayRules (20170523120522)
  [1m[35m (331.8ms)[0m  [1m[35mCREATE TABLE `holiday_rules` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `type` varchar(255) NOT NULL, `day_of_week_holiday` int, `month` int, `day_of_month_holiday` int, `date_holiday` date, `holiday_calendar_id` bigint, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL,  INDEX `index_holiday_rules_on_holiday_calendar_id`  (`holiday_calendar_id`)) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523120522')[0m
  [1m[35m (36.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2017-05-24 12:01:03', '2017-05-24 12:01:03')[0m
  [1m[35m (36.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rules`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'holiday_rules'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateHolidayCalendars (20170524120218)
  [1m[35m (254.9ms)[0m  [1m[35mCREATE TABLE `holiday_calendars` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170524120218')[0m
  [1m[35m (60.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_calendars`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'holiday_calendars'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rules`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'holiday_rules'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (520.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_dev`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (434.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_test`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (249.5ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (383.4ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateHolidayRules (20170523120522)
  [1m[35m (264.3ms)[0m  [1m[35mCREATE TABLE `holiday_rules` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `type` varchar(255) NOT NULL, `day_of_week_holiday` int, `month` int, `day_of_month_holiday` int, `date_holiday` date, `holiday_calendar_id` bigint, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL,  INDEX `index_holiday_rules_on_holiday_calendar_id`  (`holiday_calendar_id`)) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523120522')[0m
  [1m[35m (27.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateHolidayCalendars (20170524120218)
  [1m[35m (216.4ms)[0m  [1m[35mCREATE TABLE `holiday_calendars` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170524120218')[0m
  [1m[35m (56.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2017-05-24 12:08:08', '2017-05-24 12:08:08')[0m
  [1m[35m (82.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_calendars`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'holiday_calendars'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rules`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'holiday_rules'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_calendars`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'holiday_calendars'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rules`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'holiday_rules'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (578.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_dev`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (492.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_test`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (283.8ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (297.4ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateHolidayRules (20170523120522)
  [1m[35m (337.7ms)[0m  [1m[35mCREATE TABLE `holiday_rules` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `type` varchar(255) NOT NULL, `day_of_week_holiday` int, `month` int, `day_of_month_holiday` int, `date_holiday` date, `holiday_calendar_id` bigint, `holiday_rule_id` bigint, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL,  INDEX `index_holiday_rules_on_holiday_calendar_id`  (`holiday_calendar_id`),  INDEX `index_holiday_rules_on_holiday_rule_id`  (`holiday_rule_id`), CONSTRAINT `fk_rails_14f4e958ef`
FOREIGN KEY (`holiday_rule_id`)
  REFERENCES `holiday_rules` (`id`)
) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523120522')[0m
  [1m[35m (29.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateHolidayCalendars (20170524120218)
  [1m[35m (233.4ms)[0m  [1m[35mCREATE TABLE `holiday_calendars` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170524120218')[0m
  [1m[35m (72.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2017-05-24 12:16:12', '2017-05-24 12:16:12')[0m
  [1m[35m (30.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_calendars`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'holiday_calendars'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rules`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'holiday_rules'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (512.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_dev`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (567.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS `holiday_calendar_test`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (235.4ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (274.0ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT GET_LOCK(5125918370818447650, 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateHolidayRules (20170523120522)
  [1m[35m (362.6ms)[0m  [1m[35mCREATE TABLE `holiday_rules` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `type` varchar(255) NOT NULL, `day_of_week_holiday` int, `month` int, `day_of_month_holiday` int, `date_holiday` date, `holiday_calendar_id` bigint, `holiday_rule_id` bigint, `begins` date, `ends` date, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL,  INDEX `index_holiday_rules_on_holiday_calendar_id`  (`holiday_calendar_id`),  INDEX `index_holiday_rules_on_holiday_rule_id`  (`holiday_rule_id`), CONSTRAINT `fk_rails_14f4e958ef`
FOREIGN KEY (`holiday_rule_id`)
  REFERENCES `holiday_rules` (`id`)
) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170523120522')[0m
  [1m[35m (36.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateHolidayCalendars (20170524120218)
  [1m[35m (241.3ms)[0m  [1m[35mCREATE TABLE `holiday_calendars` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20170524120218')[0m
  [1m[35m (75.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2017-05-24 12:17:49', '2017-05-24 12:17:49')[0m
  [1m[35m (41.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK(5125918370818447650)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_calendars`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'holiday_calendars'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `holiday_rules`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'holiday_rules'[0m
Started GET "/calendarios" for 127.0.0.1 at 2017-05-24 10:22:23 -0300
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HolidayCalendarsController#index as HTML
  [1m[36mHolidayCalendar Load (0.4ms)[0m  [1m[34mSELECT `holiday_calendars`.* FROM `holiday_calendars`[0m
Completed 200 OK in 13ms (Views: 1.6ms | ActiveRecord: 0.9ms)


Started GET "/calendarios" for 127.0.0.1 at 2017-05-24 10:23:09 -0300
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by HolidayCalendarsController#index as HTML
  [1m[36mHolidayCalendar Load (0.4ms)[0m  [1m[34mSELECT `holiday_calendars`.* FROM `holiday_calendars`[0m
  Rendered collection of templates [0 times] (0.0ms)
Completed 200 OK in 6ms (Views: 2.7ms | ActiveRecord: 0.4ms)


Started GET "/calendarios" for 127.0.0.1 at 2017-05-24 10:23:22 -0300
Processing by HolidayCalendarsController#index as HTML
  [1m[36mHolidayCalendar Load (0.5ms)[0m  [1m[34mSELECT `holiday_calendars`.* FROM `holiday_calendars`[0m
  Rendered collection of templates [0 times] (0.0ms)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.5ms)


Started GET "/calendarios" for 127.0.0.1 at 2017-05-24 10:24:03 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HolidayCalendarsController#index as HTML
  [1m[36mHolidayCalendar Load (0.5ms)[0m  [1m[34mSELECT `holiday_calendars`.* FROM `holiday_calendars`[0m
  Rendered collection of templates [0 times] (0.0ms)
Completed 200 OK in 29ms (Views: 17.1ms | ActiveRecord: 0.9ms)


Started GET "/calendarios" for 127.0.0.1 at 2017-05-24 10:24:06 -0300
Processing by HolidayCalendarsController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mHolidayCalendar Load (0.4ms)[0m  [1m[34mSELECT `holiday_calendars`.* FROM `holiday_calendars`[0m
  Rendered collection of templates [0 times] (0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.7ms)


Started GET "/calendario" for 127.0.0.1 at 2017-05-24 10:24:13 -0300
  
ActionController::RoutingError (No route matches [GET] "/calendario"):
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `call'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/calendarios" for 127.0.0.1 at 2017-05-24 10:24:15 -0300
Processing by HolidayCalendarsController#index as HTML
  [1m[36mHolidayCalendar Load (0.4ms)[0m  [1m[34mSELECT `holiday_calendars`.* FROM `holiday_calendars`[0m
  Rendered collection of templates [0 times] (0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.4ms)


Started GET "/calendarios" for 127.0.0.1 at 2017-05-24 10:24:40 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HolidayCalendarsController#index as HTML
  [1m[36mHolidayCalendar Load (0.4ms)[0m  [1m[34mSELECT `holiday_calendars`.* FROM `holiday_calendars`[0m
Completed 200 OK in 15ms (Views: 1.9ms | ActiveRecord: 0.9ms)


Started GET "/calendarios/1" for 127.0.0.1 at 2017-05-24 10:24:44 -0300
  
ActionController::RoutingError (No route matches [GET] "/calendarios/1"):
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `call'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/calendarios" for 127.0.0.1 at 2017-05-24 10:26:26 -0300
Processing by HolidayCalendarsController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mHolidayCalendar Load (0.4ms)[0m  [1m[34mSELECT `holiday_calendars`.* FROM `holiday_calendars`[0m
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.7ms)


  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `holiday_rules` (`type`, `day_of_week_holiday`, `created_at`, `updated_at`) VALUES ('HolidayRuleDayOfWeek', 3, '2017-05-24 13:27:28', '2017-05-24 13:27:28')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `holiday_rules` (`type`, `holiday_rule_id`, `begins`, `ends`, `created_at`, `updated_at`) VALUES ('HolidayRuleWithPeriod', 1, '2017-05-02', '2017-05-10', '2017-05-24 13:27:28', '2017-05-24 13:27:28')[0m
  [1m[35m (59.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `holiday_calendars` (`created_at`, `updated_at`) VALUES ('2017-05-24 13:27:36', '2017-05-24 13:27:36')[0m
  [1m[35m (34.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE `holiday_rules` SET `holiday_calendar_id` = 1, `updated_at` = '2017-05-24 13:27:54' WHERE `holiday_rules`.`id` = 2[0m
  [1m[35m (33.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Started GET "/calendarios/1" for 127.0.0.1 at 2017-05-24 10:28:05 -0300
  
ActionController::RoutingError (No route matches [GET] "/calendarios/1"):
  
actionpack (5.1.1) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.1) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.1) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.1) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.1) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `call'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `holiday_rules` (`type`, `day_of_week_holiday`, `created_at`, `updated_at`) VALUES ('HolidayRuleDayOfWeek', 3, '2017-05-24 13:28:51', '2017-05-24 13:28:51')[0m
  [1m[35mSQL (90.7ms)[0m  [1m[32mINSERT INTO `holiday_rules` (`type`, `holiday_rule_id`, `begins`, `ends`, `created_at`, `updated_at`) VALUES ('HolidayRuleWithPeriod', 3, '2017-05-02', '2017-05-10', '2017-05-24 13:28:51', '2017-05-24 13:28:51')[0m
  [1m[35m (42.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `holiday_calendars` (`created_at`, `updated_at`) VALUES ('2017-05-24 13:28:54', '2017-05-24 13:28:54')[0m
  [1m[35m (53.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE `holiday_rules` SET `holiday_calendar_id` = 2, `updated_at` = '2017-05-24 13:28:57' WHERE `holiday_rules`.`id` = 4[0m
  [1m[35m (29.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Started GET "/calendarios" for 127.0.0.1 at 2017-05-24 10:29:02 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HolidayCalendarsController#index as HTML
  [1m[36mHolidayCalendar Load (0.4ms)[0m  [1m[34mSELECT `holiday_calendars`.* FROM `holiday_calendars`[0m
Completed 200 OK in 30ms (Views: 18.3ms | ActiveRecord: 1.5ms)


Started GET "/calendarios/1" for 127.0.0.1 at 2017-05-24 10:29:14 -0300
Processing by HolidayCalendarsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mHolidayCalendar Load (0.4ms)[0m  [1m[34mSELECT  `holiday_calendars`.* FROM `holiday_calendars` WHERE `holiday_calendars`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 0.7ms)


Started GET "/calendarios/1" for 127.0.0.1 at 2017-05-24 11:28:38 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HolidayCalendarsController#calendar as HTML
  Parameters: {"id"=>"1"}
  [1m[36mHolidayCalendar Load (0.3ms)[0m  [1m[34mSELECT  `holiday_calendars`.* FROM `holiday_calendars` WHERE `holiday_calendars`.`id` = 1 LIMIT 1[0m
  [1m[36mHolidayRule Load (0.4ms)[0m  [1m[34mSELECT `holiday_rules`.* FROM `holiday_rules` WHERE `holiday_rules`.`holiday_calendar_id` = 1[0m
Completed 200 OK in 93ms (Views: 65.5ms | ActiveRecord: 3.0ms)


Started GET "/calendarios/1" for 127.0.0.1 at 2017-05-24 11:34:21 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HolidayCalendarsController#calendar as HTML
  Parameters: {"id"=>"1"}
  [1m[36mHolidayCalendar Load (0.3ms)[0m  [1m[34mSELECT  `holiday_calendars`.* FROM `holiday_calendars` WHERE `holiday_calendars`.`id` = 1 LIMIT 1[0m
  [1m[36mHolidayRule Load (0.4ms)[0m  [1m[34mSELECT `holiday_rules`.* FROM `holiday_rules` WHERE `holiday_rules`.`holiday_calendar_id` = 1[0m
Completed 500 Internal Server Error in 92ms (ActiveRecord: 3.3ms)


  
LoadError (Unable to autoload constant HolidayRuleWithPeriodSerializer, expected /home/ezequiel/workspaces/ApprenticeshipTemplate/holiday-calendar-rails/app/serializers/holiday_rule_with_period_serializer.rb to define it):
  
app/controllers/holiday_calendars_controller.rb:10:in `calendar'
Started GET "/calendarios/1" for 127.0.0.1 at 2017-05-24 11:34:49 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HolidayCalendarsController#calendar as HTML
  Parameters: {"id"=>"1"}
  [1m[36mHolidayCalendar Load (0.3ms)[0m  [1m[34mSELECT  `holiday_calendars`.* FROM `holiday_calendars` WHERE `holiday_calendars`.`id` = 1 LIMIT 1[0m
  [1m[36mHolidayRule Load (0.4ms)[0m  [1m[34mSELECT `holiday_rules`.* FROM `holiday_rules` WHERE `holiday_rules`.`holiday_calendar_id` = 1[0m
  [1m[36mHolidayRule Load (0.4ms)[0m  [1m[34mSELECT  `holiday_rules`.* FROM `holiday_rules` WHERE `holiday_rules`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 97ms (Views: 73.2ms | ActiveRecord: 3.5ms)


Started GET "/calendarios/1" for 127.0.0.1 at 2017-05-24 11:36:34 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by HolidayCalendarsController#calendar as HTML
  Parameters: {"id"=>"1"}
  [1m[36mHolidayCalendar Load (0.5ms)[0m  [1m[34mSELECT  `holiday_calendars`.* FROM `holiday_calendars` WHERE `holiday_calendars`.`id` = 1 LIMIT 1[0m
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.5ms)


  
ActionView::MissingTemplate (Missing partial holiday_calendars/_holiday_calendar with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby]}. Searched in:
  * "/home/ezequiel/workspaces/ApprenticeshipTemplate/holiday-calendar-rails/app/views"
):
  
app/controllers/holiday_calendars_controller.rb:10:in `calendar'
Started GET "/calendarios/1" for 127.0.0.1 at 2017-05-24 11:36:53 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HolidayCalendarsController#calendar as HTML
  Parameters: {"id"=>"1"}
  [1m[36mHolidayCalendar Load (0.3ms)[0m  [1m[34mSELECT  `holiday_calendars`.* FROM `holiday_calendars` WHERE `holiday_calendars`.`id` = 1 LIMIT 1[0m
Completed 500 Internal Server Error in 29ms (ActiveRecord: 1.6ms)


  
ActionView::MissingTemplate (Missing partial holiday_calendars/_holiday_calendar with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby]}. Searched in:
  * "/home/ezequiel/workspaces/ApprenticeshipTemplate/holiday-calendar-rails/app/views"
):
  
app/controllers/holiday_calendars_controller.rb:10:in `calendar'
Started GET "/calendarios/1" for 127.0.0.1 at 2017-05-24 11:37:39 -0300
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HolidayCalendarsController#calendar as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)


  
ArgumentError (too few arguments):
  
app/controllers/holiday_calendars_controller.rb:10:in `format'
app/controllers/holiday_calendars_controller.rb:10:in `calendar'
Started GET "/calendarios/1" for 127.0.0.1 at 2017-05-24 11:38:41 -0300
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Started GET "/calendarios/1" for 127.0.0.1 at 2017-05-24 11:38:51 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HolidayCalendarsController#calendar as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)


  
ArgumentError (too few arguments):
  
app/controllers/holiday_calendars_controller.rb:10:in `format'
app/controllers/holiday_calendars_controller.rb:10:in `calendar'
Started GET "/calendarios/1" for 127.0.0.1 at 2017-05-24 11:39:58 -0300
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by HolidayCalendarsController#calendar as HTML
  Parameters: {"id"=>"1"}
  [1m[36mHolidayCalendar Load (0.3ms)[0m  [1m[34mSELECT  `holiday_calendars`.* FROM `holiday_calendars` WHERE `holiday_calendars`.`id` = 1 LIMIT 1[0m
  [1m[36mHolidayRule Load (0.3ms)[0m  [1m[34mSELECT `holiday_rules`.* FROM `holiday_rules` WHERE `holiday_rules`.`holiday_calendar_id` = 1[0m
  [1m[36mHolidayRule Load (0.5ms)[0m  [1m[34mSELECT  `holiday_rules`.* FROM `holiday_rules` WHERE `holiday_rules`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 89ms (Views: 66.7ms | ActiveRecord: 4.8ms)


Started GET "/calendarios/1" for 127.0.0.1 at 2017-05-24 11:40:17 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HolidayCalendarsController#calendar as HTML
  Parameters: {"id"=>"1"}
  [1m[36mHolidayCalendar Load (0.4ms)[0m  [1m[34mSELECT  `holiday_calendars`.* FROM `holiday_calendars` WHERE `holiday_calendars`.`id` = 1 LIMIT 1[0m
  [1m[36mHolidayRule Load (0.4ms)[0m  [1m[34mSELECT `holiday_rules`.* FROM `holiday_rules` WHERE `holiday_rules`.`holiday_calendar_id` = 1[0m
  [1m[36mHolidayRule Load (0.4ms)[0m  [1m[34mSELECT  `holiday_rules`.* FROM `holiday_rules` WHERE `holiday_rules`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 95ms (Views: 58.1ms | ActiveRecord: 3.6ms)


  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Started GET "/calendarios" for 127.0.0.1 at 2017-05-24 11:59:02 -0300
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HolidayCalendarsController#calendars as HTML
  [1m[36mHolidayCalendar Load (0.4ms)[0m  [1m[34mSELECT `holiday_calendars`.* FROM `holiday_calendars`[0m
Completed 500 Internal Server Error in 34ms (ActiveRecord: 1.4ms)


  
ActionView::MissingTemplate (Missing partial holiday_calendars/_holiday_calendar with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby]}. Searched in:
  * "/home/ezequiel/workspaces/ApprenticeshipTemplate/holiday-calendar-rails/app/views"
):
  
app/controllers/holiday_calendars_controller.rb:5:in `calendars'
